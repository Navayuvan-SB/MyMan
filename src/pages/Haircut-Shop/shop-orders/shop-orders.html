<!--
  Generated template for the ShopOrdersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-buttons left class="Menu">
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu" class="resize-icon"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Orders</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-grid>

    <!-- Date picker -->
    <ion-row>

      <ion-col col-12>

        <ion-item>
          <ion-label>Select the Date</ion-label>
          <ion-datetime displayFormat="MMM DD YYYY" pickerFormat="MMM-DD-YYYY" (ionChange)="dateSelected($event)">
          </ion-datetime>
        </ion-item>

      </ion-col>

    </ion-row>

    <!-- Orders if present-->
    <ion-row id="orders" *ngIf="orderFlag">

      <h2>Appointments</h2>

      <ion-card class="card2" *ngFor="let request of requests">
        <ion-item>

          <ion-row>

            <ion-col col-12>
              <h2>Customer Name</h2>
              <p>{{ request.userName }}</p>
            </ion-col>

            <ion-col col-12>
              <h2>Appointment Id</h2>
              <p>{{ request.appointmentId }}</p>
            </ion-col>

            <ion-col col-10>
              <h2>Phone Number</h2>
              <p>{{ request.userPhoneNumber }}</p>
            </ion-col>

            <ion-col col-2 (click)="makeCall(request.userPhoneNumber)">
              <ion-icon name="call"></ion-icon>
            </ion-col>

            <ion-col col-12>
              <h2>Time</h2>
              <p>{{ request.time }}</p>
            </ion-col>

            <ion-col col-3>

            </ion-col>

            <ion-col col-5 *ngIf="request.status == 0">
              <button ion-button color="secondary" round (click)="acceptClicked(request)">Accept</button>
            </ion-col>

            <ion-col col-4 text-center *ngIf="request.status == 0" (click)="rejectClicked(request)">
              <h3>Reject</h3>
            </ion-col>


            <ion-col col-12 *ngIf="request.status == 1" text-center>
              <button class="b b2 com2 adjust1 adjust2 " ion-button round>Accepted</button>
            </ion-col>

            <ion-col col-12 *ngIf="request.status == 2" text-center>
              <button class="b b3 com2 adjust1 adjust2 " ion-button round>Rejected</button>
            </ion-col>

          </ion-row>

        </ion-item>
      </ion-card>

    </ion-row>

    <!-- Orders if absent-->
    <ion-row id="orders" *ngIf="!orderFlag">

      <h2>Appointments</h2>

      <p class="null-text">Sorry, No Appointments found on this date</p>

    </ion-row>

  </ion-grid>

</ion-content>
